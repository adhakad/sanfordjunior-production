"use strict";(self.webpackChunkzoclass=self.webpackChunkzoclass||[]).push([[114],{50114:(b,u,o)=>{o.r(u),o.d(u,{StudentFeesModule:()=>B});var p=o(36895),g=o(89299),t=o(94650),f=o(87129),i=o(92340),C=o(80529);let P=(()=>{class e{constructor(n){this.http=n,this.url=`${i.N.API_URL}/v1/payment`}createPayment(n){return this.http.post(`${this.url}/create`,n)}validatePayment(n){return this.http.post(`${this.url}/validate`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(C.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=o(60494),x=o(38283),M=o(86898),O=o(11005),v=o(40934),y=o(37065),k=o(97392),S=o(51572),I=o(88789);function Z(e,a){1&e&&(t.TgZ(0,"td")(1,"p",16),t._uU(2,"* All Fee Already Paid"),t.qZA()())}function w(e,a){if(1&e&&(t.TgZ(0,"tr"),t.YNc(1,Z,3,0,"td",15),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==n.paybleInstallment.length&&"abc"!==n.paybleInstallment[0])}}function F(e,a){1&e&&(t.TgZ(0,"tr")(1,"td")(2,"p",16),t._uU(3,"* Please Admission Fee Pay Now ! "),t.qZA()()())}function A(e,a){if(1&e&&(t.TgZ(0,"div",1)(1,"div",8,9)(3,"div",10)(4,"table",11)(5,"tr")(6,"td",12),t._uU(7,"Acadmic Session"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"td",12),t._uU(12,"Admission No."),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()(),t.TgZ(15,"tr")(16,"td",12),t._uU(17,"Roll Number"),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA()(),t.TgZ(20,"tr")(21,"td",12),t._uU(22,"Class"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"classSuffix"),t.qZA()(),t.TgZ(26,"tr")(27,"td",12),t._uU(28,"Student Name"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA()(),t.TgZ(31,"tr")(32,"td",12),t._uU(33,"Fee Statement"),t.qZA(),t.TgZ(34,"td")(35,"mat-icon",13),t._uU(36,"launch"),t.qZA()()()(),t.TgZ(37,"table",14),t.YNc(38,w,2,1,"tr",15),t.YNc(39,F,4,0,"tr",15),t.qZA(),t.TgZ(40,"div")(41,"h4",12),t._uU(42,"Disclaimer:"),t.qZA(),t.TgZ(43,"p"),t._uU(44),t.qZA(),t.TgZ(45,"p"),t._uU(46,"2. Verification: Review receipt details for accuracy, including payment amount and purpose. Report discrepancies to the School Office for correction."),t.qZA(),t.TgZ(47,"p"),t._uU(48,"3. Non-Transferable: Intended for your use only; do not share it."),t.qZA(),t.TgZ(49,"p"),t._uU(50,"4. Record Keeping: Keep this receipt for future reference, reimbursement, or tax purposes."),t.qZA(),t.TgZ(51,"p"),t._uU(52,"5. Lost Receipt: If lost or damaged, contact the School Office for a duplicate. A fee may apply."),t.qZA(),t.TgZ(53,"p"),t._uU(54,"6. Refund Policy: Refer to our institution's refund policy for fee refund information. Generally, fees are non-refundable. Exceptions may apply for duplicate payments or inadvertent overpayments with proper documentation and school policy approval."),t.qZA()()()()()),2&e){const n=t.oxw();t.xp6(9),t.hij(": ",null==n.studentInfo[0]?null:n.studentInfo[0].session,""),t.xp6(5),t.hij(": ",null==n.studentInfo[0]?null:n.studentInfo[0].admissionNo,""),t.xp6(5),t.hij(": ",null==n.studentInfo[0]?null:n.studentInfo[0].rollNumber,""),t.xp6(5),t.hij(": ",t.lcZ(25,10,null==n.studentInfo[0]?null:n.studentInfo[0].class),""),t.xp6(6),t.hij(": ",null==n.studentInfo[0]?null:n.studentInfo[0].name,""),t.xp6(5),t.hYB("routerLink","/student/fees/statement/",null==n.studentInfo[0]?null:n.studentInfo[0].class,"/",null==n.studentInfo[0]?null:n.studentInfo[0]._id,""),t.xp6(3),t.Q6J("ngIf",1==n.studentFeesCollection.admissionFeesPayable&&n.studentFeesCollection.admissionFees>0||0==n.studentFeesCollection.admissionFeesPayable&&0==n.studentFeesCollection.admissionFees),t.xp6(1),t.Q6J("ngIf",1==n.studentFeesCollection.admissionFeesPayable&&0==n.studentFeesCollection.admissionFees),t.xp6(5),t.hij("1. Payment Responsibility: Confirms your obligation to ",null==n.schoolInfo?null:n.schoolInfo.schoolName," for listed fees.")}}function T(e,a){1&e&&t._UZ(0,"mat-progress-spinner",21)}function z(e,a){if(1&e&&(t.TgZ(0,"div",19),t.YNc(1,T,1,0,"mat-progress-spinner",20),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.loader)}}function U(e,a){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,z,2,1,"div",18),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.loader)}}const j=[{path:"",component:(()=>{class e{constructor(n,r,m,s,l,c,d,h){this.renderer=n,this.el=r,this.schoolService=m,this.paymentService=s,this.studentAuthService=l,this.printPdfService=c,this.feesService=d,this.feesStructureService=h,this.errorMessage="",this.successMessage="",this.studentInfo=[],this.paybleInstallment=[],this.check=!1,this.loader=!0}ngOnInit(){const n=this.renderer.createElement("script");n.type="text/javascript",n.src="https://checkout.razorpay.com/v1/checkout.js",n.onload=()=>{},this.renderer.appendChild(this.el.nativeElement,n),this.getSchool(),this.student=this.studentAuthService.getLoggedInStudentInfo(),this.cls=this.student.class,this.studentId=this.student.id,this.feesStructureByClass(this.cls)}getSchool(){this.schoolService.getSchool().subscribe(n=>{n&&(this.schoolInfo=n,console.log(this.schoolInfo))})}feesStructureByClass(n){this.feesStructureService.feesStructureByClass(n).subscribe(r=>{r&&(this.clsFeesStructure=r,this.clsFeesStructure&&this.singleStudentFeesCollectionById(this.studentId))})}singleStudentFeesCollectionById(n){this.feesService.singleStudentFeesCollectionById(n).subscribe(r=>{if(r){this.studentFeesCollection=r.studentFeesCollection,this.studentInfo=r.studentInfo;const s=this.studentFeesCollection.installment.find(l=>{const[c,d]=Object.entries(l)[0];return 0===d});if(this.clsFeesStructure&&s){let l=Object.keys(s)[0];this.paybleInstallment=this.clsFeesStructure.installment.filter(c=>c[l]),this.check=!0}this.check=!0,setTimeout(()=>{this.loader=!1},1e3)}})}successDone(){setTimeout(()=>{console.log("abcd"),this.successMessage="ABCD"},1e3)}createPayment(){const n=this.student.id,r=this.student.class,m=Object.keys(this.paybleInstallment[0])[0],s=Object.values(this.paybleInstallment[0])[0];this.paymentService.createPayment({studentId:n,cls:r,feesInstallment:m,feesAmount:s,currency:"INR"}).subscribe(d=>{const h={key:"rzp_test_ARoUa9Hxw3scSz",amount:d.order.feesAmount,currency:d.order.currency,name:this.schoolInfo?.schoolName,description:"Payment for Your Product",image:"../../../../assets/logo.png",prefill:{name:this.student.name,email:this.student.email,contact:"9340700360",method:"online"},theme:{color:"#8d6dff"},order_id:d.order.id,handler:this.paymentHandler.bind(this)};Razorpay.open(h),this.paybleInstallment=["abc"]},d=>{this.errorMessage="Payment creation failed. Please try again later."})}paymentHandler(n){this.paymentService.validatePayment({payment_id:n.razorpay_payment_id,order_id:n.razorpay_order_id,signature:n.razorpay_signature}).subscribe(c=>{c&&(this.successMessage=c.message)},c=>{this.errorMessage="Payment validation failed. Please contact support."})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(f.E),t.Y36(P),t.Y36(_.N),t.Y36(x.Z),t.Y36(M.$),t.Y36(O.t))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-student-fees"]],decls:11,vars:2,consts:[[1,"container-fluid","dashboard-container"],[1,"row"],[1,"col-12","col-lg-2"],[1,"col-12","col-lg-10"],[1,"col-12","big-container"],[1,"main-card"],["class","row",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"custom-container"],["content",""],[1,"table-container"],[1,"info-table",2,"width","auto"],[1,"text-bold"],[3,"routerLink"],[1,"info-table"],[4,"ngIf"],[1,"text-bold",2,"display","inline-block","margin-right","25px"],[1,"spinner-container"],["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],["diameter","65","mode","indeterminate","strokeWidth","3",4,"ngIf"],["diameter","65","mode","indeterminate","strokeWidth","3"]],template:function(n,r){1&n&&(t._UZ(0,"app-header-navigation"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t._UZ(4,"app-side-navigation"),t.qZA(),t.TgZ(5,"div",3)(6,"div",1)(7,"div",4)(8,"div",5),t.YNc(9,A,55,12,"div",6),t.qZA()()()()()(),t.YNc(10,U,2,1,"div",7)),2&n&&(t.xp6(9),t.Q6J("ngIf",r.check),t.xp6(1),t.Q6J("ngIf",r.loader))},dependencies:[p.O5,g.rH,v.b,y.e,k.Hw,S.Ou,I.N],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;font-family:serif;overflow-x:hidden}[_nghost-%COMP%]{--common-color: #fff;--header-height: 12vh}.header[_ngcontent-%COMP%]{background-color:var(--common-color);width:100%;min-height:12vh;left:0;top:0;position:fixed;z-index:2;padding:0!important;display:flex;justify-content:space-around;box-shadow:0 0 1px -10px #64748d15,0 0 0 1px #4d5c7615,0 0 4px #64748d15}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin-left:0}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#21409a;font:1em sans-serif;letter-spacing:.5px}.main-menu[_ngcontent-%COMP%]{display:none}.hamburger-icon[_ngcontent-%COMP%]{fill:#3f62a7;width:24px;height:24px}.mobile-menu[_ngcontent-%COMP%]{box-shadow:none}.hamburger-menu[_ngcontent-%COMP%]{background-color:#fff;width:100%;min-height:100vh;height:200vh;position:absolute;left:0;z-index:1000;top:0;display:block}.hamburger-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:large;color:#000!important}.hamburger-menu[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:larger;margin-top:5px;color:#3f62a7!important}.mobile-menu[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#3f62a7}.hamburger-menu[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{color:#000!important;font-size:28px;margin-top:3.5vh;margin-left:88%}.top-hamburger-menu[_ngcontent-%COMP%]{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4e4caa24}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#4e4caa32}.side-navbar[_ngcontent-%COMP%]{display:none}.dashboard-container[_ngcontent-%COMP%]{background-color:transparent;min-height:90vh;width:100%}.big-container[_ngcontent-%COMP%]{background-color:#fff;width:100%;min-height:70vh;margin-top:1vh}.main-card[_ngcontent-%COMP%]{min-height:70vh;width:100%;background-color:transparent}.main-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#33558b;letter-spacing:.6px;font-size:18px}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#33558b;letter-spacing:.5px;font-size:16px}h4[_ngcontent-%COMP%]{color:#33558b}p[_ngcontent-%COMP%]{color:#33558b;font-size:15px}.category-card[_ngcontent-%COMP%]{background:#e9f1ff;height:200px;border-radius:15px;cursor:pointer}.category-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-top:25%;letter-spacing:.6px;font-size:18px;color:#33558b}.form-control[_ngcontent-%COMP%]{height:45px;color:#33558b;border:2px solid #e1dfeed7}.form-control[_ngcontent-%COMP%]::placeholder{color:#4e4caa83;font-size:15px}.form-control[_ngcontent-%COMP%]:focus{border-color:#4e4caa46;box-shadow:0 0 0 1px #4e4caa1e}.text-danger[_ngcontent-%COMP%]{font-size:12px}.submit-button[_ngcontent-%COMP%]{height:42px;background:#4881dc;color:#fff;box-shadow:none!important}.submit-button.mat-button-disabled[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){background:#e9f1ff;color:#33558b;cursor:not-allowed}.learn-more[_ngcontent-%COMP%]{height:50px;width:225px;background:#f3014d;color:#fff;margin-top:10px!important;box-shadow:none!important}.learn-more[_ngcontent-%COMP%]:hover{height:50px;width:225px;background:rgba(33,150,0,.759);color:#fff;box-shadow:none!important}.learn-more.mat-button-disabled[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){background:#ffdde8;color:#682037;cursor:not-allowed}.status-active[_ngcontent-%COMP%]{color:#4881dc;font-weight:500;cursor:pointer;text-decoration:none}.status-inactive[_ngcontent-%COMP%]{color:#33558b;cursor:pointer;text-decoration:none}.table[_ngcontent-%COMP%]{height:auto;display:block;width:100%;overflow-y:auto;overflow-x:auto}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{white-space:nowrap;color:#33558b}table[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#33558b;cursor:pointer}.table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#33558b}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center}.modal.fade.show[_ngcontent-%COMP%]{display:block;z-index:10!important;background:rgba(0,0,0,.5)}.modal-header[_ngcontent-%COMP%]{background-color:#4881dc;top:0;position:sticky;z-index:1}.modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{color:#fff}.modal-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#fff}.modal-footer[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;background-color:#fff}.modal-body[_ngcontent-%COMP%]{overflow-y:auto;max-height:calc(80vh - 2.3 * 3.5rem)}.modal-dialog[_ngcontent-%COMP%]{height:80vh}.scroll-content[_ngcontent-%COMP%]{overflow-x:auto}.wide-content[_ngcontent-%COMP%]{min-width:185%}.modal-title[_ngcontent-%COMP%]{color:#4881dc;font-size:20px}.delete-button[_ngcontent-%COMP%]{background:#eeecf5;color:#4a4a71;box-shadow:none}.success-message[_ngcontent-%COMP%]{color:#16b978;font-size:20px}.error-message[_ngcontent-%COMP%]{color:#e4409a}  mat-form-field{width:100%!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#33558b!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#33558b!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#33558b!important;opacity:.8!important}  .mat-input-element{caret-color:#33558b!important}  .mat-form-field-invalid .mat-input-element, .mat-warn[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{caret-color:#33558b!important}  .mat-form-field-label{color:#33558b!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#33558b!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#33558b!important}  .mat-radio-button{color:#33558b;margin-right:20px;margin-bottom:5px}  .mat-radio-outer-circle{border:1px solid #33558b}  .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#4881dc}  .mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#4881dc}  .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#0000001a!important}.mat-checkbox[_ngcontent-%COMP%]{color:#33558b}  .mat-checkbox-frame{border-color:#33558b!important}  .mat-checkbox-ripple .mat-ripple-element{background-color:#4881dc!important}  .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#4881dc!important}  .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:#4881dc!important}  .mat-slide-toggle-bar{height:27px!important;width:48px!important;border-radius:36px!important;background-color:#d3cde8}  .mat-slide-toggle-thumb{top:6px!important;right:-6px!important;position:relative!important;background-color:#fff!important}  .mat-slide-toggle.mat-checked .mat-ripple-element{background-color:transparent}  .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#4881dc!important}  .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff!important}@media (min-width: 576px) and (max-width:991.98px){.header[_ngcontent-%COMP%], .side-navbar[_ngcontent-%COMP%], .dashboard-container[_ngcontent-%COMP%]{display:none}}@media (min-width: 992px){.header[_ngcontent-%COMP%]{min-height:12vh!important;padding-bottom:15px}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:10vh;margin-left:50px}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:1.1em sans-serif;letter-spacing:.5px}.header[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font:1em sans-serif;letter-spacing:.4px}.header[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]{display:inline-block}.header[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#21409a;margin-left:20px;cursor:pointer}.header[_ngcontent-%COMP%]   .main-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{color:#21409a;font-size:16px;font-family:Poppins,sans-serif!important;font-weight:500;letter-spacing:.85px}.desktop-menu[_ngcontent-%COMP%]{width:150%;padding-left:10px;padding-right:50px}.desktop-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.desktop-menu[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:medium;margin-top:2px;color:#3f62a7}.hamburger[_ngcontent-%COMP%], .hamburger-menu[_ngcontent-%COMP%], .hamburger-icon[_ngcontent-%COMP%]{display:none}.side-navbar[_ngcontent-%COMP%]{height:90vh;width:16.5%;position:fixed;left:0;padding-top:2vh;padding-bottom:10vh;display:block;justify-content:space-around;background-color:#fff;overflow-x:auto;box-shadow:0 0 1px -10px #64748d15,0 0 #64748d15,0 0 4px #64748d15}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4881dc;width:100%;padding:5px;display:block;flex-direction:column}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:medium;display:inline-block;margin-left:5px;margin-top:5px}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;font-weight:400;text-align:center;margin-left:15px}.side-navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active-link[_ngcontent-%COMP%]{background:#4881dc;color:#fff}.dashboard-container[_ngcontent-%COMP%]{width:auto;background-color:#64748d15;padding-bottom:1.5vh}.big-container[_ngcontent-%COMP%]{background-color:#fff;min-height:87vh;width:98.5%;margin-top:1.5vh;margin-left:.75%;border-radius:10px;box-shadow:0 0 1px -10px #64748d15,0 0 #64748d15,0 0 4px #64748d15}.main-card[_ngcontent-%COMP%]{min-height:70vh;padding-left:2px;padding-right:2px}.table[_ngcontent-%COMP%]{display:inline-table;width:100%}.scroll-content[_ngcontent-%COMP%]{overflow-x:auto}.wide-content[_ngcontent-%COMP%]{min-width:100%}}"]}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(j),g.Bz]}),e})();var R=o(56314);let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,Y,R.I]}),e})()},88789:(b,u,o)=>{o.d(u,{N:()=>g});var p=o(94650);let g=(()=>{class t{transform(i){return i>=4&&i<=12?`${i}th`:1==i?`${i}st`:2==i?`${i}nd`:3==i?`${i}rd`:200==i?"Nursery":201==i?"LKG":202==i?"UKG":void 0}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=p.Yjl({name:"classSuffix",type:t,pure:!0}),t})()}}]);