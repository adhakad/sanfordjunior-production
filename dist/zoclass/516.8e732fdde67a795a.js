"use strict";(self.webpackChunkzoclass=self.webpackChunkzoclass||[]).push([[516],{26516:(v,g,a)=>{a.r(g),a.d(g,{StudentForgotModule:()=>H});var f=a(36895),p=a(89299),e=a(24006),t=a(94650),s=a(22759),x=a(60494),F=a(462),Z=a(3238),T=a(4859),c=a(59549),S=a(44144),C=a(84385),b=a(88789);function I(n,r){if(1&n&&(t.TgZ(0,"div")(1,"mat-option",14),t._uU(2),t.ALo(3,"classSuffix"),t.qZA()()),2&n){const o=r.$implicit;t.xp6(1),t.Q6J("value",o.class),t.xp6(1),t.Oqu(t.lcZ(3,2,o.class))}}function y(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Class is required."),t.qZA())}function A(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Class must be a numeric value. "),t.qZA())}function q(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Roll number is required."),t.qZA())}function U(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Roll number can't be more than 8 characters long. "),t.qZA())}function M(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Roll number should contain only numbers. "),t.qZA())}function O(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"form",7),t.NdJ("ngSubmit",function(){t.CHM(o);const m=t.oxw(2);return t.KtG(m.studentVarify())}),t.TgZ(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"Select class name"),t.qZA(),t.TgZ(4,"mat-select",9),t.YNc(5,I,4,4,"div",10),t.qZA(),t.YNc(6,y,2,0,"mat-hint",11),t.YNc(7,A,2,0,"mat-hint",11),t.qZA(),t.TgZ(8,"mat-form-field",8)(9,"mat-label"),t._uU(10,"Roll number"),t.qZA(),t._UZ(11,"input",12),t.YNc(12,q,2,0,"mat-hint",11),t.YNc(13,U,2,0,"mat-hint",11),t.YNc(14,M,2,0,"mat-hint",11),t.qZA(),t.TgZ(15,"button",13),t._uU(16,"Varify"),t.qZA()()}if(2&n){const o=t.oxw(2);let i,m,l,d,u;t.Q6J("formGroup",o.varifyForm),t.xp6(5),t.Q6J("ngForOf",o.classInfo),t.xp6(1),t.Q6J("ngIf",(null==(i=o.varifyForm.get("class"))?null:i.hasError("required"))&&(null==(i=o.varifyForm.get("class"))?null:i.touched)),t.xp6(1),t.Q6J("ngIf",null==(m=o.varifyForm.get("class"))?null:m.hasError("pattern")),t.xp6(5),t.Q6J("ngIf",(null==(l=o.varifyForm.get("rollNumber"))?null:l.hasError("required"))&&(null==(l=o.varifyForm.get("rollNumber"))?null:l.touched)),t.xp6(1),t.Q6J("ngIf",null==(d=o.varifyForm.get("rollNumber"))?null:d.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(u=o.varifyForm.get("rollNumber"))?null:u.hasError("pattern")),t.xp6(1),t.Q6J("disabled",!o.varifyForm.valid)}}function J(n,r){if(1&n&&(t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"h3"),t._uU(4,"Student Varification"),t.qZA(),t.TgZ(5,"div",5)(6,"h2"),t._uU(7),t.qZA(),t.YNc(8,O,17,8,"form",6),t.qZA()()()()),2&n){const o=t.oxw();t.xp6(7),t.Oqu(o.errorMsg),t.xp6(1),t.Q6J("ngIf","Varify"==o.formType)}}function N(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1,"OTP is required."),t.qZA())}function P(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," OTP must be a 6-digit number. "),t.qZA())}function Q(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," OTP should contain only numbers. "),t.qZA())}function Y(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"form",7),t.NdJ("ngSubmit",function(){t.CHM(o);const m=t.oxw(2);return t.KtG(m.otpVarify())}),t.TgZ(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"OTP"),t.qZA(),t._UZ(4,"input",16),t.YNc(5,N,2,0,"mat-hint",11),t.YNc(6,P,2,0,"mat-hint",11),t.YNc(7,Q,2,0,"mat-hint",11),t.qZA(),t.TgZ(8,"button",13),t._uU(9,"Varify"),t.qZA()()}if(2&n){const o=t.oxw(2);let i,m,l;t.Q6J("formGroup",o.otpForm),t.xp6(5),t.Q6J("ngIf",(null==(i=o.otpForm.get("otp"))?null:i.hasError("required"))&&(null==(i=o.otpForm.get("otp"))?null:i.touched)),t.xp6(1),t.Q6J("ngIf",null==(m=o.otpForm.get("otp"))?null:m.hasError("pattern")),t.xp6(1),t.Q6J("ngIf",null==(l=o.otpForm.get("otp"))?null:l.hasError("pattern")),t.xp6(1),t.Q6J("disabled",!o.otpForm.valid)}}function w(n,r){if(1&n&&(t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"h3"),t._uU(4,"OTP Varification"),t.qZA(),t.TgZ(5,"div",5)(6,"h2"),t._uU(7),t.qZA(),t.YNc(8,Y,10,5,"form",6),t.qZA()()()()),2&n){const o=t.oxw();t.xp6(7),t.Oqu(o.errorMsg),t.xp6(1),t.Q6J("ngIf","Otp"==o.formType)}}function E(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Username is required."),t.qZA())}function R(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Username must be at least 3 characters long. "),t.qZA())}function V(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Username can't be more than 20 characters long. "),t.qZA())}function z(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Only alphanumeric characters and underscore are allowed. "),t.qZA())}function G(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1,"Password is required."),t.qZA())}function L(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Password must be at least 6 characters long. "),t.qZA())}function $(n,r){1&n&&(t.TgZ(0,"mat-hint",15),t._uU(1," Password can't be more than 30 characters long. "),t.qZA())}function k(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"h3"),t._uU(4,"Student Username or Password Reset"),t.qZA(),t.TgZ(5,"div",5)(6,"h2"),t._uU(7),t.qZA(),t.TgZ(8,"form",7),t.NdJ("ngSubmit",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.usernamePasswordReset())}),t.TgZ(9,"mat-form-field",8)(10,"mat-label"),t._uU(11,"Username"),t.qZA(),t._UZ(12,"input",17),t.YNc(13,E,2,0,"mat-hint",11),t.YNc(14,R,2,0,"mat-hint",11),t.YNc(15,V,2,0,"mat-hint",11),t.YNc(16,z,2,0,"mat-hint",11),t.qZA(),t.TgZ(17,"mat-form-field",8)(18,"mat-label"),t._uU(19,"Reset Password"),t.qZA(),t._UZ(20,"input",18),t.YNc(21,G,2,0,"mat-hint",11),t.YNc(22,L,2,0,"mat-hint",11),t.YNc(23,$,2,0,"mat-hint",11),t.qZA(),t.TgZ(24,"button",13),t._uU(25,"Reset"),t.qZA()()()()()()}if(2&n){const o=t.oxw();let i,m,l,d,u,_,h;t.xp6(7),t.Oqu(o.errorMsg),t.xp6(1),t.Q6J("formGroup",o.resetForm),t.xp6(5),t.Q6J("ngIf",(null==(i=o.resetForm.get("email"))?null:i.hasError("required"))&&(null==(i=o.resetForm.get("email"))?null:i.touched)),t.xp6(1),t.Q6J("ngIf",null==(m=o.resetForm.get("email"))?null:m.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(l=o.resetForm.get("email"))?null:l.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(d=o.resetForm.get("email"))?null:d.hasError("pattern")),t.xp6(5),t.Q6J("ngIf",(null==(u=o.resetForm.get("password"))?null:u.hasError("required"))&&(null==(u=o.resetForm.get("password"))?null:u.touched)),t.xp6(1),t.Q6J("ngIf",null==(_=o.resetForm.get("password"))?null:_.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",null==(h=o.resetForm.get("password"))?null:h.hasError("maxlength")),t.xp6(1),t.Q6J("disabled",!o.resetForm.valid)}}function K(n,r){if(1&n&&(t.TgZ(0,"div",3)(1,"div",1)(2,"div",4)(3,"p",19),t._uU(4),t.qZA()()()()),2&n){const o=t.oxw();t.xp6(4),t.Oqu(o.successMsg)}}const j=[{path:"",component:(()=>{class n{constructor(o,i,m,l){this.fb=o,this.router=i,this.classService=m,this.studentAuthService=l,this.errorMsg="",this.successMsg="",this.formType="Varify",this.varifyForm=this.fb.group({rollNumber:["",[e.kI.required,e.kI.maxLength(8),e.kI.pattern("^[0-9]+$")]],class:["",[e.kI.required,e.kI.pattern(/^\d+$/)]]}),this.otpForm=this.fb.group({otp:["",[e.kI.required,e.kI.pattern(/^\d{6}$/),e.kI.pattern("^[0-9]+$")]],rollNumber:[""],class:[""]}),this.resetForm=this.fb.group({email:["",[e.kI.required,e.kI.minLength(3),e.kI.maxLength(20),e.kI.pattern(/^[a-zA-Z0-9_]+$/)]],password:["",[e.kI.required,e.kI.minLength(6),e.kI.maxLength(30)]],otp:[""],rollNumber:[""],class:[""]})}ngOnInit(){this.getClass()}getClass(){this.classService.getClassList().subscribe(o=>{this.classInfo=o})}studentVarify(){this.varifyForm.valid&&this.studentAuthService.studentVarify(this.varifyForm.value).subscribe(o=>{o&&(this.errorMsg="",this.varifiedStudentInfo=o.varifiedStudentInfo,this.formType="Otp")},o=>{this.errorMsg=o.error})}otpVarify(){this.otpForm.value.class=this.varifiedStudentInfo.class,this.otpForm.value.rollNumber=this.varifiedStudentInfo.rollNumber,this.studentAuthService.otpVarify(this.otpForm.value).subscribe(o=>{o&&(this.errorMsg="",this.varifiedOtpInfo=o.varifiedOtpInfo,this.formType="Reset")},o=>{this.errorMsg=o.error})}usernamePasswordReset(){this.resetForm.value.class=this.varifiedOtpInfo.class,this.resetForm.value.rollNumber=this.varifiedOtpInfo.rollNumber,this.resetForm.value.otp=this.varifiedOtpInfo.otp,this.studentAuthService.usernamePasswordReset(this.resetForm.value).subscribe(o=>{o&&(this.errorMsg="",this.formType="ResetSuccsess","ResetSuccsess"==this.formType&&(this.successMsg=o))},o=>{this.errorMsg=o.error})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(e.qu),t.Y36(p.F0),t.Y36(s.j),t.Y36(x.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-forgot"]],decls:7,vars:4,consts:[[1,"login"],[1,"row"],["class","col-12 col-lg-5 offset-lg-3 login-card",4,"ngIf"],[1,"col-12","col-lg-5","offset-lg-3","login-card"],[1,"col-12","col-lg-10","offset-lg-1"],[1,"col-12"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","class"],[4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["matInput","","type","number","formControlName","rollNumber"],["type","submit","mat-raised-button","",1,"submit-button",3,"disabled"],[3,"value"],[1,"form-text","text-danger"],["matInput","","type","number","formControlName","otp"],["matInput","","type","text","formControlName","email"],["matInput","","type","password","formControlName","password"],[1,"success-message"]],template:function(o,i){1&o&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"div",1),t.YNc(3,J,9,2,"div",2),t.YNc(4,w,9,2,"div",2),t.YNc(5,k,26,10,"div",2),t.YNc(6,K,5,1,"div",2),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("ngIf","Varify"==i.formType),t.xp6(1),t.Q6J("ngIf","Otp"==i.formType),t.xp6(1),t.Q6J("ngIf","Reset"==i.formType),t.xp6(1),t.Q6J("ngIf","ResetSuccsess"==i.formType))},dependencies:[f.sg,f.O5,F.G,Z.ey,T.lW,c.KE,c.bx,c.hX,S.Nt,C.gD,e._Y,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u,b.N],styles:[".login[_ngcontent-%COMP%]{background-color:#fff;padding-top:10vh;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{background-color:#fff;padding-top:5vh;padding-bottom:5vh;box-shadow:none}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}h3[_ngcontent-%COMP%]{color:#33558b;padding-bottom:2vh;letter-spacing:.6px;font-size:18px;font-weight:500;margin-bottom:5px;text-align:center}h2[_ngcontent-%COMP%]{color:#e4409a;font-size:16px;letter-spacing:.5px}p[_ngcontent-%COMP%]{color:#33558b;margin-top:2vh;letter-spacing:.25px;font-size:16px;margin-bottom:5px}a[_ngcontent-%COMP%]{color:#33558b;font-size:16px;font-weight:500;letter-spacing:.25px;text-decoration:none}.success-message[_ngcontent-%COMP%]{color:#16b978;font-size:20px}@media (min-width:1200px){.login[_ngcontent-%COMP%]{min-height:90vh;padding-top:5vh;background-color:#f1f4f9;padding-left:2%;padding-right:2%}.login-card[_ngcontent-%COMP%]{margin-top:2vh;margin-left:30%;margin-bottom:10vh;border-radius:15px;box-shadow:0 0 1px -10px #f1f4f9,0 0 #f1f4f9,0 0 15px #d2e1fc}.login-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:48px;margin-bottom:15px}}"]}),n})()}];let B=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(j),p.Bz]}),n})();var D=a(32882);let H=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,B,D.S]}),n})()},88789:(v,g,a)=>{a.d(g,{N:()=>p});var f=a(94650);let p=(()=>{class e{transform(s){return s>=4&&s<=12?`${s}th`:1==s?`${s}st`:2==s?`${s}nd`:3==s?`${s}rd`:200==s?"Nursery":201==s?"LKG":202==s?"UKG":void 0}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275pipe=f.Yjl({name:"classSuffix",type:e,pure:!0}),e})()}}]);